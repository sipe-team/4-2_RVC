# 🎧 금주 리서치 회고: 음성 변환 모델 실험기 (feat. 삽질 & Replay)

## 🧪 목표

> "타인의 노래를 내 목소리로 바꿔 듣기"

직접 녹음한 음성과 학습된 voice model (`.pth`)을 활용해  
**보컬 분리된 음악을 내 목소리로 바꾸는 Voice Conversion** 파이프라인을 구성해보려 했습니다.

---

## 🔧 시도 1: RVC (Retrieval-based Voice Conversion) WebUI

- GitHub 오픈소스를 로컬에 clone하고, Python 패키지 설치 후 실행
- `preprocess.py`로 음성 전처리 → `.pth` 학습 모델 로드 → inference

### ⚠️ 문제 발생

- `.wav` 불러오는 과정에서 다음과 같은 에러 발생: ValueError: mode must be 'r', 'w', or None, got: rb

- 원인: PyAV 최신 버전이 `"rb"` 모드를 지원하지 않으며, `av.open()`과 ffmpeg 설정 간 충돌
- 다양한 방식으로 해결 시도했지만 결국 포기...

---

## 🎙️ 데이터 준비 과정

용진이가 추천해준 블로그 [👉 Art Rudy님의 글](https://artrudy.tistory.com/493)을 참고하여,  
**본인 CPU 스레드 수의 절반 정도로 학습 설정하는 최적화 방식**을 알게 되었음.

마침 과거에 **녹음해둔 노래 파일**이 있어서,  
그 중 특정 구간을 잘라 학습 데이터로 사용했고 `.pth` 모델을 성공적으로 만들었음.

---

## 🔄 대안 탐색

| 대안 후보 | 결과 |
|-----------|------|
| OpenVPI | 설치는 가능했지만 셋업이 다소 복잡함 |
| So-VITS-SVC | `.pth` 변환 과정에서 호환 문제 |
| DiffVC | diffusion 기반이라 아직 실험 단계 |
| WebVC/BarkVC | 재학습 필요하거나 품질 미흡 |

---

## ✅ 결국 선택한 솔루션: [Replay](https://www.weights.com/replay)

- `.pth` 없이도 음성 clone 가능
- 웹 기반 UI에서 바로 보컬 입력 → 변환 결과 출력
- **빠르고 직관적인 사용 경험**

> 결국은 간단한 목적엔 **Replay 같은 서비스를 활용하는 게 훨씬 효율적**이라는 결론!

---

## 📌 정리
- 윈도우친화적이긴 하다 확실히,
- 다양한 음성 변환 오픈소스를 탐색하면서, 설치/셋업/호환성 등 현실적인 문제로 삽질이 컸음
- 다만 **녹음 데이터를 학습 데이터로 활용하는 방법**,  
**CPU 최적 학습 설정**,  
**RVC 구조 이해** 등 많은 인사이트를 얻음
- 결과적으로는 **Replay를 통한 빠른 음성 변환 경험**으로 마무리



### 차주 계획

- replay 좀 더 탐색해보고 결국 유료로 가는게 마음이편한가...?
